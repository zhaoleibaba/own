(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01df550d"],{"333d":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];i("c5f6");Math.easeInOutQuad=function(e,t,i,o){return e/=o/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,i){var o=l(),n=e-o,s=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=s;var l=Math.easeInOutQuad(c,o,n,t);r(l),c<t?a(e):i&&"function"===typeof i&&i()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},u=c,d=(i("e498"),i("2877")),p=Object(d["a"])(u,o,n,!1,null,"6af373ef",null);t["a"]=p.exports},"6b66":function(e,t,i){},7456:function(e,t,i){},7732:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel-group"},[i("div",{staticClass:"block histop"},[i("el-form",{ref:"queryForm",attrs:{model:e.listQuery,inline:!0}},[i("el-form-item",{attrs:{label:"商品名称",prop:"roleName"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"创建时间"}},[i("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),i("el-row",{staticClass:"mb8",attrs:{gutter:10}},[i("el-col",{attrs:{span:1.5}},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"","label-width":"90px"}},[i("el-form-item",{staticClass:"otherItem",staticStyle:{width:"100%"},attrs:{label:"产品介绍"}},[i("span",{staticStyle:{color:"#909399"}},[e._v(e._s(t.row.introduction))])]),e._v(" "),i("el-form-item",{attrs:{label:"生产许可证"}},[i("span",[e._v(e._s(t.row.licenseProduction))])]),e._v(" "),i("el-form-item",{attrs:{label:"农药登记证"}},[i("span",[e._v(e._s(t.row.licensePesticideRegistration))])]),e._v(" "),i("el-form-item",{attrs:{label:"证件持有人"}},[i("span",[e._v(e._s(t.row.licenseHolder))])])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.nameGoods))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"产品号"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.productId))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"规格"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.packingSize))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"成分"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.ingredient))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"联系人",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("张益达")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.format(t.row.createTime)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelet(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"ysp-page mt10",staticStyle:{"padding-bottom":"150px"}},[i("div",{staticClass:"fr"},[i("pagination",{staticClass:"zhaolei",attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,pageSizes:e.listQuery.size},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.pageGetList}})],1)]),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.open=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.diaRules,"label-width":"80px"}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"产品名称",prop:"nameGoods","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.nameGoods,callback:function(t){e.$set(e.form,"nameGoods",t)},expression:"form.nameGoods"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"规格",prop:"packingSize","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"请输入产品规格"},model:{value:e.form.packingSize,callback:function(t){e.$set(e.form,"packingSize",t)},expression:"form.packingSize"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"成分",prop:"ingredient","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"请输入产品成分"},model:{value:e.form.ingredient,callback:function(t){e.$set(e.form,"ingredient",t)},expression:"form.ingredient"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"生产许可证",prop:"licenseProduction","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"生产许可证"},model:{value:e.form.licenseProduction,callback:function(t){e.$set(e.form,"licenseProduction",t)},expression:"form.licenseProduction"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"农药登记证",prop:"licensePesticideRegistration","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"农药登记证"},model:{value:e.form.licensePesticideRegistration,callback:function(t){e.$set(e.form,"licensePesticideRegistration",t)},expression:"form.licensePesticideRegistration"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"证件持有人",prop:"licenseHolder","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"证件持有人"},model:{value:e.form.licenseHolder,callback:function(t){e.$set(e.form,"licenseHolder",t)},expression:"form.licenseHolder"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"产品介绍",prop:"introduction","label-width":"100px"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入产品介绍"},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"产品号",prop:"productId","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"请输入产品号"},model:{value:e.form.productId,callback:function(t){e.$set(e.form,"productId",t)},expression:"form.productId"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"联系人",prop:"phone","label-width":"100px"}},[i("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},n=[],a=(i("3b2b"),i("a481"),i("333d")),r={components:{Pagination:a["a"]},data:function(){return{tableData:[],search:"",addForm:{phone:"",remarkName:""},rules:{phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号码",trigger:"blur"}],remarkName:[{required:!0,message:"请输入别名",trigger:"blur"},{min:1,max:15,message:"别名不为空",trigger:"blur"}]},phone:"",open:!1,avatarTitle:"",avatarDialogVisible:!1,addTitle:"",addDialogVisible:!1,listLoading:!1,avatar:"",dateTime:[],total:0,title:"",listQuery:{page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id",size:[20]},type:"created",form:{pkOrg:null,pkGoods:null,nameGoods:"",ingredient:"",packingSize:"",productionDate:"",introduction:"",licenseProduction:"",licensePesticideRegistration:"",licenseHolder:"",productId:""},diaRules:{nameGoods:[{required:!0,message:"产品名称不能为空",trigger:"blur"}],packingSize:[{required:!0,message:"规格不能为空",trigger:"blur"}],ingredient:[{required:!0,message:"成分不能为空",trigger:"blur"}],licenseProduction:[{required:!0,message:"生产许可证为必填项",trigger:"blur"}],licensePesticideRegistration:[{required:!0,message:"农药登记证证为必填项",trigger:"blur"}],licenseHolder:[{required:!0,message:"证件持有人不能为空",trigger:"blur"}],introduction:[{required:!0,message:"产品介绍不能为空",trigger:"blur"}],productId:[{required:!1,trigger:"blur"}],phone:[{required:!1,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号码",trigger:"blur"}]}}},mounted:function(){this.getGoods()},methods:{getGoods:function(){var e=this;this.listLoading=!0;var t=this.listQuery.page,i=this.listQuery.limit;this.$store.dispatch("api/getGoods",{pageNum:t,pageSize:i}).then((function(t){e.tableData=t.list,e.listLoading=!1,e.total=t.total})).catch((function(){e.listLoading=!1}))},handleQuery:function(){this.getGoods()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加商品"},handleEdit:function(e,t){this.reset(),this.form.pkOrg=t.pkOrg,this.form.pkGoods=t.pkGoods,this.form.nameGoods=t.nameGoods,this.form.ingredient=t.ingredient,this.form.packingSize=t.packingSize,this.form.productionDate=t.productionDate,this.form.introduction=t.introduction,this.form.licenseProduction=t.licenseProduction,this.form.licensePesticideRegistration=t.licensePesticideRegistration,this.form.licenseHolder=t.licenseHolder,this.form.productId=t.productId,this.open=!0,this.title="编辑"},handleDelet:function(e,t){var i=this,o=t.pkGoods;this.$confirm("是否永久删除该产品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.$store.dispatch("api/delGood",{pkGoods:o}).then((function(e){i.$message({message:"删除成功",type:"success"}),i.getGoods()})).catch((function(){}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},reset:function(){this.form={pkOrg:void 0,pkGoods:void 0,nameGoods:"",ingredient:"",packingSize:"",productionDate:"",introduction:"",licenseProduction:"",licensePesticideRegistration:"",licenseHolder:"",productId:""}},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(console.log(t),console.log("进入"),void 0!=e.form.pkOrg?e.$store.dispatch("api/addGood",e.form).then((function(t){e.$message({message:"修改成功",type:"success"}),e.open=!1,e.getGoods()})).catch((function(){e.listLoading=!1})):e.$store.dispatch("api/addGood",e.form).then((function(t){e.$message({message:"新增成功",type:"success"}),e.open=!1,e.getGoods()})).catch((function(){e.listLoading=!1})))}))},cancel:function(){this.open=!1,this.reset()},pageGetList:function(e){this.listQuery.page=e.page,this.getGoods()},resetQuery:function(){this.getGoods()},formatDate:function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var o in i)if(new RegExp("(".concat(o,")")).test(t)){var n=i[o]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?n:this.padLeftZero(n))}return t},padLeftZero:function(e){return("00"+e).substr(e.length)},format:function(e){var t=new Date(e);return this.formatDate(t,"yyyy-MM-dd hh:mm:ss")}}},l=r,s=(i("a2b7"),i("f28e"),i("2877")),c=Object(s["a"])(l,o,n,!1,null,"481047bf",null);t["default"]=c.exports},"92f1":function(e,t,i){},a2b7:function(e,t,i){"use strict";var o=i("92f1"),n=i.n(o);n.a},e498:function(e,t,i){"use strict";var o=i("7456"),n=i.n(o);n.a},f28e:function(e,t,i){"use strict";var o=i("6b66"),n=i.n(o);n.a}}]);